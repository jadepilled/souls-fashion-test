<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Spectral">
	<link rel="stylesheet" href="resources/styles.css">
    <title>Elden Ring Outfit Simulator</title>
    <link rel="stylesheet" href="resources/styles.css">
</head>
<body>
    <h2>Elden Ring Outfit Simulator</h2>
			<div id="presetButtons" class="preset-buttons">
			<button onclick="savePreset(1)">Save to Preset 1</button>
			<button onclick="loadPreset(1)">Load Preset 1</button>
			<button onclick="clearPreset(1)">Clear Preset 1</button>
			<br>
			<button onclick="savePreset(2)">Save to Preset 2</button>
			<button onclick="loadPreset(2)">Load Preset 2</button>
			<button onclick="clearPreset(2)">Clear Preset 2</button>
			<br>
			<button onclick="savePreset(3)">Save to Preset 3</button>
			<button onclick="loadPreset(3)">Load Preset 3</button>
			<button onclick="clearPreset(3)">Clear Preset 3</button>
			<br>
			<button onclick="savePreset(4)">Save to Preset 4</button>
			<button onclick="loadPreset(4)">Load Preset 4</button>
			<button onclick="clearPreset(4)">Clear Preset 4</button>
			<br>
			<button onclick="savePreset(5)">Save to Preset 5</button>
			<button onclick="loadPreset(5)">Load Preset 5</button>
			<button onclick="clearPreset(5)">Clear Preset 5</button>
		</div>
<div id="outfitSlotsSimulator" class="simulator-grid">
    <!-- Outfit items will be dynamically loaded here -->
</div>

    <div id="outfitSlotsSimulator" class="simulator-grid">
    <!-- Outfit items will be dynamically loaded here -->
</div>


  <script>
    function loadOutfitFromStorage() {
        // Fetch the outfit data from localStorage using the 'outfitSlots' key
        const outfit = JSON.parse(localStorage.getItem('outfitSlots')) || {};
        
        // Get the outfitSlotsSimulator div by its ID
        const outfitSlots = document.getElementById("outfitSlotsSimulator");
        outfitSlots.innerHTML = ''; // Clear existing items

        // Define the layout order with corrected item types
        const layoutOrder = ["head", "weapons", "chest", "shields", "hands", "legs"];

        // Iterate through the defined layout order to add the corresponding item card
        layoutOrder.forEach(slotId => {
            const item = outfit[`${slotId}Slot`];

            const card = document.createElement("div");
            card.classList.add("item-card");

            if (item) {
                const img = document.createElement("img");
                img.src = `pages/eldenring/icons/${item.image}`;
                img.alt = item.name;

                const name = document.createElement("p");
                name.textContent = item.name;

                card.appendChild(img);
                card.appendChild(name);
            } else {
                // Display placeholder if no item is selected
                const placeholder = document.createElement("p");
                placeholder.classList.add("placeholder-tile");
                placeholder.textContent = `No ${slotId} item selected`;
                card.appendChild(placeholder);
            }

            // Assign an ID to each card based on its slot type for specific styling
            card.id = `${slotId}Card`;

            outfitSlots.appendChild(card);
        });
    }

    // Call loadOutfitFromStorage to load the outfit items initially
    document.addEventListener("DOMContentLoaded", loadOutfitFromStorage);
</script>

<script>
    // Save the current outfit to a preset
    function savePreset(presetNumber) {
        // Fetch the current outfit from localStorage
        const currentOutfit = JSON.parse(localStorage.getItem('outfitSlots')) || {};

        // Save the current outfit to the specific preset key in localStorage
        localStorage.setItem(`preset${presetNumber}`, JSON.stringify(currentOutfit));

        alert(`Preset ${presetNumber} has been saved.`);
    }

    // Load a preset into the simulator
    function loadPreset(presetNumber) {
        // Fetch the preset from localStorage
        const preset = JSON.parse(localStorage.getItem(`preset${presetNumber}`));

        if (preset) {
            // Save the selected preset as the current outfit
            localStorage.setItem('outfitSlots', JSON.stringify(preset));

            // Reload the outfit display
            loadOutfitFromStorage();
            alert(`Preset ${presetNumber} has been loaded.`);
        } else {
            alert(`Preset ${presetNumber} is empty.`);
        }
    }

    // Clear a preset
    function clearPreset(presetNumber) {
        // Remove the preset from localStorage
        localStorage.removeItem(`preset${presetNumber}`);
        alert(`Preset ${presetNumber} has been cleared.`);
    }

    // Function to load outfit from localStorage and display it
    function loadOutfitFromStorage() {
        // Fetch the outfit data from localStorage using the 'outfitSlots' key
        const outfit = JSON.parse(localStorage.getItem('outfitSlots')) || {};
        
        // Get the outfitSlotsSimulator div by its ID
        const outfitSlots = document.getElementById("outfitSlotsSimulator");
        outfitSlots.innerHTML = ''; // Clear existing items

        // Define the layout order with corrected item types
        const layoutOrder = ["head", "weapons", "chest", "shields", "hands", "legs"];

        // Iterate through the defined layout order to add the corresponding item card
        layoutOrder.forEach(slotId => {
            const item = outfit[`${slotId}Slot`];

            const card = document.createElement("div");
            card.classList.add("item-card");

            if (item) {
                const img = document.createElement("img");
                img.src = `pages/eldenring/icons/${item.image}`;
                img.alt = item.name;

                const name = document.createElement("p");
                name.textContent = item.name;

                card.appendChild(img);
                card.appendChild(name);
            } else {
                // Display placeholder if no item is selected
                const placeholder = document.createElement("p");
                placeholder.classList.add("placeholder-tile");
                placeholder.textContent = `No ${slotId} item selected`;
                card.appendChild(placeholder);
            }

            // Assign an ID to each card based on its slot type for specific styling
            card.id = `${slotId}Card`;

            outfitSlots.appendChild(card);
        });
    }

    // Call loadOutfitFromStorage to load the outfit items initially
    document.addEventListener("DOMContentLoaded", loadOutfitFromStorage);
</script>



</body>
</html>
